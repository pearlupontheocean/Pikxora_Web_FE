import{c as b,r as _,a as C,b as L,q as w,w as k,j as e,f as S}from"./index-CSY5YgiJ.js";import{N as W}from"./Navbar-eeXt84en.js";import{C as x}from"./card-dyY2Qvrr.js";import{I as T}from"./input-bM4iH4pw.js";import{R as q}from"./RatingStars-tsFfm_V7.js";import{z as u}from"./proxy-BCkhZuQv.js";import{M as B}from"./map-pin-C4YDvCp_.js";/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E=b("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]),H=()=>{const[l,p]=_.useState(""),h=C(),{data:m,isLoading:g}=L(),{data:f}=w(),{data:j=[],isLoading:N}=k(),v=m==null?void 0:m.user,y=N||g,n=[...j.filter(s=>{var i,o,a,r,c,d;if(!l)return!0;const t=l.toLowerCase();return((i=s.title)==null?void 0:i.toLowerCase().includes(t))||((o=s.description)==null?void 0:o.toLowerCase().includes(t))||((r=(a=s.user_id)==null?void 0:a.name)==null?void 0:r.toLowerCase().includes(t))||((d=(c=s.user_id)==null?void 0:c.location)==null?void 0:d.toLowerCase().includes(t))})].sort((s,t)=>{var a,r;const i=((a=s.user_id)==null?void 0:a.rating)||0;return(((r=t.user_id)==null?void 0:r.rating)||0)-i});return console.log("Sorted Walls",n),y?e.jsx("div",{className:"min-h-screen flex items-center justify-center",children:e.jsx(S,{className:"h-8 w-8 animate-spin text-primary"})}):e.jsxs("div",{className:"min-h-screen",children:[e.jsx(W,{user:v,profile:f}),e.jsx("div",{className:"container mx-auto px-4 pt-24 pb-12",children:e.jsxs(u.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"space-y-8",children:[e.jsxs("div",{className:"text-center mb-12",children:[e.jsx("h1",{className:"text-5xl font-bold red-glow-intense mb-4",children:"Discover Global Talent"}),e.jsx("p",{className:"text-xl text-muted-foreground",children:"Explore VFX studios and artists from around the world"})]}),e.jsx("div",{className:"max-w-2xl mx-auto",children:e.jsxs("div",{className:"relative",children:[e.jsx(E,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-5 w-5 text-muted-foreground"}),e.jsx(T,{placeholder:"Search by name, location, or keywords...",value:l,onChange:s=>p(s.target.value),className:"pl-10 py-6 text-lg border-red-glow"})]})}),e.jsxs("div",{className:"text-center text-muted-foreground",children:[n.length," ",n.length===1?"wall":"walls"," found"]}),n.length===0?e.jsx(x,{className:"p-12 text-center border-dashed",children:e.jsx("p",{className:"text-muted-foreground",children:"No walls found. Try adjusting your search."})}):e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:n.map((s,t)=>{var i,o,a,r;return e.jsx(u.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:t*.1},whileHover:{scale:1.02},className:"hover-lift",children:e.jsxs(x,{className:"overflow-hidden border-red-glow cursor-pointer h-full",onClick:()=>h(`/wall/${s._id}`),children:[s.hero_media_url&&e.jsxs("div",{className:"aspect-video bg-darker-grey relative overflow-hidden",children:[e.jsx("img",{src:s.hero_media_url,alt:s.title,className:"w-full h-full object-cover"}),e.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/80 to-transparent"})]}),e.jsxs("div",{className:"p-6 space-y-3",children:[e.jsxs("div",{className:"flex items-start justify-between gap-2",children:[e.jsx("h3",{className:"font-bold text-xl line-clamp-1",children:s.title}),((i=s.user_id)==null?void 0:i.rating)&&e.jsx("div",{className:"flex-shrink-0",children:e.jsx(q,{rating:s.user_id.rating})})]}),e.jsx("p",{className:"text-sm text-primary capitalize",children:((o=s.user_id)==null?void 0:o.name)||"User"}),e.jsx("p",{className:"text-sm text-muted-foreground line-clamp-2",children:s.description||"No description available"}),((a=s.user_id)==null?void 0:a.location)&&e.jsxs("div",{className:"flex items-center gap-1 text-sm text-muted-foreground",children:[e.jsx(B,{className:"h-4 w-4"}),s.user_id.location]}),((r=s.user_id)==null?void 0:r.associations)&&s.user_id.associations.length>0&&e.jsxs("div",{className:"flex flex-wrap gap-1",children:[s.user_id.associations.slice(0,3).map((c,d)=>e.jsx("span",{className:"text-xs px-2 py-1 bg-primary/10 text-primary rounded",children:c},d)),s.user_id.associations.length>3&&e.jsxs("span",{className:"text-xs px-2 py-1 bg-muted text-muted-foreground rounded",children:["+",s.user_id.associations.length-3]})]})]})]})},s.id)})})]})})]})};export{H as default};
