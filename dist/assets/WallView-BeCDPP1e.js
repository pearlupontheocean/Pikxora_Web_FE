import{c as R,r as b,j as e,o as ce,x as we,a as be,b as Ne,q as _e,y as ke,z as xe,t as Se,A as Ce,B as ue,C as pe,D as Fe,E as de,f as W,u as y,G as Ie,L as Te,U as Pe,F as ze,S as Ee}from"./index-CSY5YgiJ.js";import{N as Ve,U as ye}from"./Navbar-eeXt84en.js";import{B as T,C as O}from"./card-dyY2Qvrr.js";import{D as ee,a as se,b as ae,c as ie}from"./dialog-BvnH3A07.js";import{I as w}from"./input-bM4iH4pw.js";import{T as re}from"./textarea-BOa-INnI.js";import{L as d}from"./label-Bz9P5vOH.js";import{S as J,a as Z,b as K,c as Q,d as $}from"./select-CjlLjNwJ.js";import{R as Ae}from"./RatingStars-tsFfm_V7.js";import{z as c}from"./proxy-BCkhZuQv.js";import{M as De}from"./map-pin-C4YDvCp_.js";import{E as Ue}from"./eye-DNixVO71.js";import{L as Le}from"./lock-BvoQNpj5.js";import{M}from"./mail-C02KyBAk.js";import{T as le}from"./trash-2-DWtXyLna.js";import{P as oe}from"./plus-35letP8-.js";import{A as Be}from"./arrow-right-DFdqC8hG.js";import{A as ne}from"./award-KnwfSxTN.js";import"./Combination-CrH4g3RK.js";import"./index-Q8Z8E6D0.js";/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oe=R("BookOpen",[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Re=R("Briefcase",[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qe=R("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ge=R("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const je=R("Instagram",[["rect",{width:"20",height:"20",x:"2",y:"2",rx:"5",ry:"5",key:"2e1cvw"}],["path",{d:"M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z",key:"9exkf1"}],["line",{x1:"17.5",x2:"17.51",y1:"6.5",y2:"6.5",key:"r4j83e"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ve=R("Linkedin",[["path",{d:"M16 8a6 6 0 0 1 6 6v7h-4v-7a2 2 0 0 0-2-2 2 2 0 0 0-2 2v7h-4v-7a6 6 0 0 1 6-6z",key:"c2jq9f"}],["rect",{width:"4",height:"12",x:"2",y:"9",key:"mk3on5"}],["circle",{cx:"4",cy:"4",r:"2",key:"bt5ra8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $e=R("Network",[["rect",{x:"16",y:"16",width:"6",height:"6",rx:"1",key:"4q2zg0"}],["rect",{x:"2",y:"16",width:"6",height:"6",rx:"1",key:"8cvhb9"}],["rect",{x:"9",y:"2",width:"6",height:"6",rx:"1",key:"1egb70"}],["path",{d:"M5 16v-3a1 1 0 0 1 1-1h12a1 1 0 0 1 1 1v3",key:"1jsf9p"}],["path",{d:"M12 12V8",key:"2874zd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G=R("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fe=R("Twitter",[["path",{d:"M22 4s-.7 2.1-2 3.4c1.6 10-9.4 17.3-18 11.6 2.2.1 4.4-.6 6-2C3 15.5.5 9.6 3 5c2.2 2.6 5.6 4.1 9 4-.9-4.2 4-6.6 7-3.8 1.1 0 3-1.2 3-1.2z",key:"pff0z6"}]]),We=({url:a,type:N,className:F})=>{const[t,s]=b.useState("");return b.useEffect(()=>{var o;if(N==="embed")if(a.includes("youtube.com")||a.includes("youtu.be")){const i=a.includes("youtu.be")?(o=a.split("/").pop())==null?void 0:o.split("?")[0]:new URL(a).searchParams.get("v");s(`https://www.youtube.com/embed/${i}`)}else if(a.includes("vimeo.com")){const i=a.split("/").pop();s(`https://player.vimeo.com/video/${i}`)}else s(a)},[a,N]),N==="embed"?e.jsx("div",{className:ce("relative w-full aspect-video rounded-lg overflow-hidden",F),children:e.jsx("iframe",{src:t,className:"absolute inset-0 w-full h-full",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0})}):e.jsx("div",{className:ce("relative w-full aspect-video rounded-lg overflow-hidden bg-black",F),children:e.jsx("video",{src:a,controls:!0,className:"absolute inset-0 w-full h-full object-contain",children:"Your browser does not support the video tag."})})},ys=()=>{var H,Y,X;const{id:a}=we(),N=be(),{data:F}=Ne(),{data:t}=_e(),{data:s,isLoading:o}=ke(a),i=F==null?void 0:F.user,x=o,[m,p]=b.useState([]),[g,_]=b.useState(!1),[V,D]=b.useState(null);xe();const{mutateAsync:B}=Se(),{data:q=[],isLoading:l}=Ce(a);ue(),pe();const k=Fe(),[P,v]=b.useState(!1),[j,U]=b.useState(null),[n,I]=b.useState(null),S=b.useCallback(async()=>{if(a)try{const r=await de.get(`/projects/wall/${a}`);p(r.data||[])}catch(r){console.error("Error loading projects:",r)}},[a]),E=async r=>{var f,C;if(confirm("Are you sure you want to delete this project?"))try{await de.delete(`/projects/${r}`),y.success("Project deleted successfully!"),S()}catch(u){const L=u instanceof Error?u.message:((C=(f=u==null?void 0:u.response)==null?void 0:f.data)==null?void 0:C.error)||"Failed to delete project";y.error(L)}};if(b.useEffect(()=>{!s&&!o&&N("/browse")},[s,o,N]),b.useEffect(()=>{S()},[S]),b.useEffect(()=>{var r,f,C;if(s&&t){const u=s.user_id,L=t&&u&&(typeof u=="object"&&((r=t._id)==null?void 0:r.toString())===((f=u._id)==null?void 0:f.toString())||typeof u=="string"&&((C=t._id)==null?void 0:C.toString())===u.toString());console.log("Wall ownership check:",{profileId:t._id,wallUserId:s.user_id,wallUserIdType:typeof s.user_id,wallOwnerId:typeof u=="object"?u._id:u,isOwner:L,profileExists:!!t,wallOwnerExists:!!u})}},[s,t]),x||!s)return e.jsx("div",{className:"min-h-screen flex items-center justify-center",children:e.jsx(W,{className:"h-8 w-8 animate-spin text-primary"})});const h=s.user_id,A=t&&h&&(typeof h=="object"&&((H=t._id)==null?void 0:H.toString())===((Y=h._id)==null?void 0:Y.toString())||typeof h=="string"&&((X=t._id)==null?void 0:X.toString())===h.toString());return e.jsxs("div",{className:"min-h-screen bg-background mt-48",children:[e.jsx(Ve,{user:i,profile:t}),(s==null?void 0:s.hero_media_url)&&e.jsxs("div",{className:"relative h-[50vh] overflow-hidden mt-[-190px]",children:[e.jsx(c.img,{initial:{scale:1.1},animate:{scale:1},transition:{duration:1},src:s.hero_media_url,alt:s.title,className:"w-full h-full object-cover"}),e.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-background via-background/50 to-transparent"})]}),e.jsxs("div",{className:"container mx-auto px-4 py-4 -mt-32 relative z-10",children:[e.jsxs(c.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"mb-3",children:[e.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-3 mb-2",children:[e.jsxs("div",{className:"flex items-start gap-4",children:[(s==null?void 0:s.logo_url)&&e.jsx("div",{className:"flex-shrink-0 rounded-full",children:e.jsx("img",{src:s.logo_url,alt:"Studio Logo",className:"h-16 md:h-20 w-20 object-cover rounded-full"})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-4xl md:text-5xl font-bold red-glow-intense mb-1",children:s==null?void 0:s.title}),h&&e.jsxs("div",{className:"flex items-center gap-4 text-muted-foreground",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("span",{className:"text-lg",children:["by ",h.name]}),h.rating&&e.jsx(Ae,{rating:h.rating})]}),h.location&&e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(De,{className:"h-4 w-4"}),e.jsx("span",{children:h.location})]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(Ue,{className:"h-4 w-4"}),e.jsxs("span",{children:[s.view_count||0," views"]})]})]})]})]}),e.jsxs("div",{className:"flex gap-2",children:[A&&e.jsxs(e.Fragment,{children:[e.jsx(T,{variant:s.published?"outline":"default",onClick:async()=>{var r,f;try{await B({id:a,data:{published:!s.published}}),y.success(s.published?"Wall unpublished successfully!":"Wall published successfully!"),window.location.reload()}catch(C){const u=C instanceof Error?C.message:((f=(r=C==null?void 0:C.response)==null?void 0:r.data)==null?void 0:f.error)||"Failed to update publish status";y.error(u)}},children:s.published?e.jsxs(e.Fragment,{children:[e.jsx(Le,{className:"h-4 w-4 mr-2"}),"Unpublish"]}):e.jsxs(e.Fragment,{children:[e.jsx(Ie,{className:"h-4 w-4 mr-2"}),"Publish"]})}),e.jsx(Te,{to:`/wall/${a}/edit`,children:e.jsxs(T,{variant:"outline",children:[e.jsx(G,{className:"h-4 w-4 mr-2"}),"Edit Wall"]})})]}),(h==null?void 0:h.email)&&e.jsxs(T,{onClick:()=>{const r=document.getElementById("contact-section");r==null||r.scrollIntoView({behavior:"smooth",block:"start"})},children:[e.jsx(M,{className:"h-4 w-4 mr-2"}),"Get in Touch"]})]})]}),(s==null?void 0:s.description)&&e.jsx("p",{className:"text-base text-muted-foreground max-w-3xl mt-2",children:s.description})]}),e.jsxs("div",{className:"space-y-8 scroll-smooth",children:[e.jsxs("section",{id:"overview-section",className:"scroll-mt-24 space-y-4",children:[(s==null?void 0:s.showreel_url)&&(s==null?void 0:s.showreel_type)&&e.jsx(c.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0,margin:"-100px"},transition:{duration:.6},className:"mb-4",children:e.jsxs("div",{className:"flex gap-0 items-start mt-12 mb-12",children:[e.jsx("div",{className:"flex-shrink-0 flex items-start justify-start",style:{width:"120px",position:"relative",zIndex:1,alignSelf:"flex-start"},children:e.jsx("div",{className:"text-vertical-outline-red text-5xl md:text-6xl lg:text-[80px]",style:{transform:"rotate(-90deg)",transformOrigin:"center",whiteSpace:"nowrap",height:"fit-content",width:"fit-content",position:"absolute",top:240,left:"-100%",marginLeft:"-70px"},children:"SHOWREEL".split("").map((r,f)=>e.jsx("span",{className:"letter inline-block",children:r===" "?"Â ":r},f))})}),e.jsx("div",{className:"flex-1 relative pl-0",children:e.jsx("div",{className:"max-w-5xl mx-auto",children:e.jsx(We,{url:s.showreel_url,type:s.showreel_type,className:"w-full"})})})]})}),(h==null?void 0:h.associations)&&h.associations.length>0&&e.jsxs(c.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0,margin:"-100px"},transition:{duration:.6,delay:.1},className:"mt-8",children:[e.jsxs(c.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0,margin:"-100px"},transition:{duration:.6},className:"text-center mb-3",children:[e.jsx("h2",{className:"text-2xl md:text-3xl font-bold mb-1 red-glow-intense",children:"Associations"}),e.jsx("div",{className:"w-20 h-0.5 bg-primary mx-auto rounded-full"})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:h.associations.map((r,f)=>{const u=(L=>{const z=L.toLowerCase();return z.includes("academy")||z.includes("award")||z.includes("oscar")||z.includes("ves")?ne:z.includes("studio")||z.includes("company")||z.includes("corp")?qe:z.includes("union")||z.includes("guild")||z.includes("association")?Ee:$e})(r);return e.jsx(c.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0,margin:"-50px"},transition:{duration:.5,delay:f*.1},children:e.jsx(O,{className:"p-4 bg-gradient-to-br from-card/90 to-card/50 backdrop-blur-sm border-2 border-primary/20 hover:border-primary/40 transition-all duration-300 shadow-lg hover:shadow-xl h-full",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx(u,{className:"h-5 w-5 text-primary flex-shrink-0 mt-0.5"}),e.jsx("div",{className:"flex-1",children:e.jsx("p",{className:"text-sm md:text-base leading-relaxed text-foreground font-medium",children:r})})]})})},f)})})]}),(s==null?void 0:s.awards)&&s.awards.length>0&&e.jsxs(c.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0,margin:"-100px"},transition:{duration:.6,delay:.3},className:"mt-8",children:[e.jsxs(c.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0,margin:"-100px"},transition:{duration:.6},className:"text-center mb-3 mt-20",children:[e.jsx("h2",{className:"text-3xl md:text-4xl font-bold mb-1 red-glow-intense",children:"Awards"}),e.jsx("div",{className:"w-20 h-0.5 bg-primary mx-auto rounded-full"})]}),e.jsx(Xe,{awards:s.awards})]})]}),e.jsxs("section",{id:"projects-section",className:"scroll-mt-24 space-y-4",children:[e.jsxs(c.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0,margin:"-100px"},transition:{duration:.6},className:"text-center mb-3",children:[e.jsx("h2",{className:"text-2xl md:text-3xl font-bold mb-1 red-glow-intense",children:"Projects"}),e.jsx("div",{className:"w-20 h-0.5 bg-primary mx-auto rounded-full"})]}),e.jsx("div",{className:"flex items-center justify-end mb-3",children:A&&e.jsxs(e.Fragment,{children:[e.jsx(me,{wallId:a,onSuccess:()=>{S(),_(!1)},open:g,onOpenChange:_}),V&&e.jsx(Ye,{project:V,onSuccess:()=>{S(),D(null)},open:!!V,onOpenChange:r=>!r&&D(null)})]})}),m.length>0?e.jsx("div",{className:"grid md:grid-cols-3 lg:grid-cols-3 gap-8",children:m.map((r,f)=>e.jsx(c.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{delay:f*.1},className:"group",children:e.jsxs(O,{className:"overflow-hidden border border-primary/30 hover:border-primary/60 transition-all duration-300 hover:-translate-y-2 h-full",children:[r.media_url&&e.jsxs("div",{className:"relative aspect-video overflow-hidden",children:[r.media_type==="video"?e.jsx("video",{src:r.media_url,className:"w-full h-full object-cover transition-transform duration-700 group-hover:scale-110",muted:!0,loop:!0,playsInline:!0}):e.jsx("img",{src:r.media_url,alt:r.title,className:"w-full h-full object-cover transition-transform duration-700 group-hover:scale-110"}),A&&e.jsxs("div",{className:"absolute top-2 right-2 flex gap-2 opacity-0 group-hover:opacity-100 transition-opacity z-10",children:[e.jsx(T,{size:"sm",variant:"secondary",onClick:()=>D(r),className:"h-8 w-8 p-0 bg-background/80 backdrop-blur-sm",children:e.jsx(G,{className:"h-4 w-4"})}),e.jsx(T,{size:"sm",variant:"destructive",onClick:()=>E(r._id),className:"h-8 w-8 p-0 bg-background/80 backdrop-blur-sm",children:e.jsx(le,{className:"h-4 w-4"})})]})]}),e.jsx("div",{className:"p-4 space-y-4",children:e.jsx("h3",{className:"text-2xl font-bold ",children:r.title})})]})},r._id))}):e.jsx(c.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.6},children:e.jsxs(O,{className:"p-12 text-center border-dashed",children:[e.jsx(Re,{className:"h-12 w-12 mx-auto mb-4 text-muted-foreground"}),e.jsx("p",{className:"text-muted-foreground mb-4",children:"No projects yet"}),A&&e.jsx(me,{wallId:a,onSuccess:()=>{S(),_(!1)},open:g,onOpenChange:_})]})})]}),e.jsxs("section",{id:"team-section",className:"scroll-mt-24 space-y-4",children:[e.jsxs(c.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0,margin:"-100px"},transition:{duration:.6},className:"text-center mb-3",children:[e.jsx("h2",{className:"text-2xl md:text-3xl font-bold mb-1 red-glow-intense",children:"Our Team"}),e.jsx("div",{className:"w-20 h-0.5 bg-primary mx-auto rounded-full"})]}),e.jsx("div",{className:"flex items-center justify-end mb-3",children:A&&e.jsxs(e.Fragment,{children:[e.jsxs(T,{onClick:()=>v(!0),children:[e.jsx(oe,{className:"h-4 w-4 mr-2"}),"Add Team Member"]}),j&&e.jsx(he,{teamMember:j,wallId:a,onSuccess:()=>{U(null)},open:!!j,onOpenChange:r=>!r&&U(null)})]})}),l?e.jsx("div",{className:"flex items-center justify-center py-12",children:e.jsx(W,{className:"h-8 w-8 animate-spin text-primary"})}):q.length>0?e.jsx("div",{className:"grid md:grid-cols-3 lg:grid-cols-3 gap-8",children:q.map((r,f)=>e.jsx(c.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{delay:f*.1},className:"group",children:e.jsxs(O,{className:"overflow-hidden border border-primary/30 hover:border-primary/60 transition-all duration-300 hover:-translate-y-2 h-full cursor-pointer",onClick:()=>I(r),children:[r.avatar_url?e.jsxs("div",{className:"relative aspect-video overflow-hidden",children:[e.jsx("img",{src:r.avatar_url,alt:r.name,className:"w-full h-full object-cover transition-transform duration-700 group-hover:scale-110"}),A&&e.jsxs("div",{className:"absolute top-2 right-2 flex gap-2 opacity-0 group-hover:opacity-100 transition-opacity z-10",children:[e.jsx(T,{size:"sm",variant:"secondary",onClick:C=>{C.stopPropagation(),U(r)},className:"h-8 w-8 p-0 bg-background/80 backdrop-blur-sm",children:e.jsx(G,{className:"h-4 w-4"})}),e.jsx(T,{size:"sm",variant:"destructive",onClick:async C=>{var u,L;if(C.stopPropagation(),confirm("Are you sure you want to remove this team member?"))try{await k.mutateAsync(r._id),y.success("Team member removed successfully!")}catch(z){const te=z instanceof Error?z.message:((L=(u=z==null?void 0:z.response)==null?void 0:u.data)==null?void 0:L.error)||"Failed to remove team member";y.error(te)}},className:"h-8 w-8 p-0 bg-background/80 backdrop-blur-sm",children:e.jsx(le,{className:"h-4 w-4"})})]})]}):e.jsxs("div",{className:"relative aspect-video overflow-hidden bg-primary/10 flex items-center justify-center",children:[e.jsx(ye,{className:"h-24 w-24 text-primary/50"}),A&&e.jsxs("div",{className:"absolute top-2 right-2 flex gap-2 opacity-0 group-hover:opacity-100 transition-opacity z-10",children:[e.jsx(T,{size:"sm",variant:"secondary",onClick:C=>{C.stopPropagation(),U(r)},className:"h-8 w-8 p-0 bg-background/80 backdrop-blur-sm",children:e.jsx(G,{className:"h-4 w-4"})}),e.jsx(T,{size:"sm",variant:"destructive",onClick:async C=>{var u,L;if(C.stopPropagation(),confirm("Are you sure you want to remove this team member?"))try{await k.mutateAsync(r._id),y.success("Team member removed successfully!")}catch(z){const te=z instanceof Error?z.message:((L=(u=z==null?void 0:z.response)==null?void 0:u.data)==null?void 0:L.error)||"Failed to remove team member";y.error(te)}},className:"h-8 w-8 p-0 bg-background/80 backdrop-blur-sm",children:e.jsx(le,{className:"h-4 w-4"})})]})]}),e.jsx("div",{className:"p-4 space-y-4",children:e.jsxs("div",{className:"space-y-1 flex flex-col items-center justify-center",children:[e.jsx("h3",{className:"text-2xl font-bold",children:r.name}),e.jsx("p",{className:"text-sm text-primary font-semibold",children:r.role}),r.experience_years&&e.jsxs("p",{className:"text-xs text-muted-foreground",children:[r.experience_years," ",r.experience_years===1?"year":"years"," ","of experience"]})]})})]})},r._id))}):e.jsx(c.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.6},children:e.jsxs(O,{className:"p-12 text-center border-dashed",children:[e.jsx(Pe,{className:"h-12 w-12 mx-auto mb-4 text-muted-foreground"}),e.jsx("p",{className:"text-muted-foreground mb-4",children:"No team members yet"}),A&&e.jsxs(T,{onClick:()=>v(!0),children:[e.jsx(oe,{className:"h-4 w-4 mr-2"}),"Add Your First Team Member"]})]})}),A&&e.jsx(he,{teamMember:null,wallId:a,onSuccess:()=>{v(!1)},open:P,onOpenChange:v}),n&&e.jsx(Je,{teamMember:n,open:!!n,onOpenChange:r=>!r&&I(null)})]}),e.jsx("section",{id:"journey-section",className:"scroll-mt-24 space-y-4",children:s!=null&&s.journey_content?e.jsx(Ge,{content:s.journey_content}):e.jsx(c.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.6},children:e.jsxs(O,{className:"p-12 text-center border-dashed",children:[e.jsx(Oe,{className:"h-12 w-12 mx-auto mb-4 text-muted-foreground"}),e.jsx("p",{className:"text-muted-foreground",children:"No journey content available"})]})})}),e.jsx("section",{id:"contact-section",className:"scroll-mt-24",children:e.jsx(c.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0,margin:"-100px"},transition:{duration:.6},className:"max-w-8xl mx-auto",children:e.jsx(c.div,{initial:{opacity:0,scale:.95},whileInView:{opacity:1,scale:1},viewport:{once:!0},transition:{duration:.6,delay:.2},className:"relative",children:e.jsxs(O,{className:"p-6 md:p-8 bg-gradient-to-br from-card/90 to-card/50 backdrop-blur-sm border-2 border-primary/20 hover:border-primary/40 transition-all duration-300 shadow-xl relative overflow-hidden",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-primary/5 via-transparent to-primary/5 opacity-50"}),e.jsx("div",{className:"absolute top-0 left-0 w-64 h-64 bg-primary/10 rounded-full blur-3xl -translate-x-1/2 -translate-y-1/2"}),e.jsx("div",{className:"absolute bottom-0 right-0 w-64 h-64 bg-primary/10 rounded-full blur-3xl translate-x-1/2 translate-y-1/2"}),e.jsx("div",{className:"relative z-10",children:e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4 items-center",children:[e.jsxs("div",{children:[e.jsxs(c.div,{initial:{opacity:0,y:-20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.6},className:"text-center gap-11",children:[e.jsx("div",{className:"inline-flex items-center justify-center w-[100px] h-[100px] rounded-full bg-primary/20 border-2 border-primary/40 mb-2",children:e.jsx(M,{className:"h-[50px] w-[50px] text-primary"})}),e.jsx("h2",{className:"text-2xl md:text-4xl font-bold mb-1 red-glow-intense",children:"Get in Touch"}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Send us a message and we'll get back to you soon"})]}),(s==null?void 0:s.social_links)&&Object.keys(s.social_links).length>0&&e.jsx(c.div,{initial:{opacity:0,x:-20},whileInView:{opacity:1,x:0},viewport:{once:!0},transition:{duration:.5,delay:.3},children:e.jsxs("div",{className:"bg-transparent rounded-lg p-4 my-6",children:[e.jsx("h3",{className:"text-base font-semibold mb-3 text-center",children:"Connect With Us"}),e.jsxs("div",{className:"flex flex-wrap gap-2 justify-center",children:[s.social_links.twitter&&e.jsxs(c.a,{href:s.social_links.twitter,target:"_blank",rel:"noopener noreferrer",whileHover:{scale:1.1},whileTap:{scale:.95},className:"relative group",children:[e.jsx("div",{className:"w-12 h-12 rounded-full bg-gradient-to-br from-blue-400 to-blue-600 flex items-center justify-center shadow-lg shadow-blue-500/50 hover:shadow-blue-500/80 transition-all duration-300",children:e.jsx(fe,{className:"h-5 w-5 text-white"})}),e.jsx("div",{className:"absolute inset-0 rounded-full bg-blue-400 opacity-0 group-hover:opacity-30 blur-xl transition-opacity duration-300"})]}),s.social_links.linkedin&&e.jsxs(c.a,{href:s.social_links.linkedin,target:"_blank",rel:"noopener noreferrer",whileHover:{scale:1.1},whileTap:{scale:.95},className:"relative group",children:[e.jsx("div",{className:"w-12 h-12 rounded-full bg-gradient-to-br from-blue-500 to-blue-700 flex items-center justify-center shadow-lg shadow-blue-600/50 hover:shadow-blue-600/80 transition-all duration-300",children:e.jsx(ve,{className:"h-5 w-5 text-white"})}),e.jsx("div",{className:"absolute inset-0 rounded-full bg-blue-500 opacity-0 group-hover:opacity-30 blur-xl transition-opacity duration-300"})]}),s.social_links.instagram&&e.jsxs(c.a,{href:s.social_links.instagram,target:"_blank",rel:"noopener noreferrer",whileHover:{scale:1.1},whileTap:{scale:.95},className:"relative group",children:[e.jsx("div",{className:"w-12 h-12 rounded-full bg-gradient-to-br from-pink-500 via-purple-500 to-orange-500 flex items-center justify-center shadow-lg shadow-pink-500/50 hover:shadow-pink-500/80 transition-all duration-300",children:e.jsx(je,{className:"h-5 w-5 text-white"})}),e.jsx("div",{className:"absolute inset-0 rounded-full bg-pink-500 opacity-0 group-hover:opacity-30 blur-xl transition-opacity duration-300"})]}),s.social_links.website&&e.jsxs(c.a,{href:s.social_links.website,target:"_blank",rel:"noopener noreferrer",whileHover:{scale:1.1},whileTap:{scale:.95},className:"relative group",children:[e.jsx("div",{className:"w-12 h-12 rounded-full bg-gradient-to-br from-primary to-primary/80 flex items-center justify-center shadow-lg shadow-primary/50 hover:shadow-primary/80 transition-all duration-300",children:e.jsx(ge,{className:"h-5 w-5 text-white"})}),e.jsx("div",{className:"absolute inset-0 rounded-full bg-primary opacity-0 group-hover:opacity-30 blur-xl transition-opacity duration-300"})]})]})]})})]}),e.jsx("div",{className:s!=null&&s.social_links&&Object.keys(s.social_links).length>0?"":"lg:col-span-2",children:e.jsx(He,{wallOwnerEmail:h==null?void 0:h.email})})]})})]})})})})]})]})]})},He=({wallOwnerEmail:a})=>{const[N,F]=b.useState({name:"",email:"",subject:"",message:""}),[t,s]=b.useState(!1),o=async i=>{i.preventDefault(),s(!0);try{await new Promise(x=>setTimeout(x,1e3)),y.success("Message sent successfully! We'll get back to you soon."),F({name:"",email:"",subject:"",message:""})}catch{y.error("Failed to send message. Please try again.")}finally{s(!1)}};return e.jsxs("form",{onSubmit:o,className:"space-y-4",children:[e.jsxs(c.div,{initial:{opacity:0,x:-20},whileInView:{opacity:1,x:0},viewport:{once:!0},transition:{duration:.5,delay:.3},children:[e.jsx(d,{htmlFor:"contact-name",className:"text-sm font-semibold mb-1.5 block",children:"Name *"}),e.jsx(w,{id:"contact-name",type:"text",required:!0,value:N.name,onChange:i=>F({...N,name:i.target.value}),placeholder:"Your name",className:"bg-background/50 border-primary/20 focus:border-primary/60 focus:ring-primary/20 transition-all duration-300"})]}),e.jsxs(c.div,{initial:{opacity:0,x:-20},whileInView:{opacity:1,x:0},viewport:{once:!0},transition:{duration:.5,delay:.4},children:[e.jsx(d,{htmlFor:"contact-email",className:"text-sm font-semibold mb-1.5 block",children:"Email *"}),e.jsx(w,{id:"contact-email",type:"email",required:!0,value:N.email,onChange:i=>F({...N,email:i.target.value}),placeholder:"your.email@example.com",className:"bg-background/50 border-primary/20 focus:border-primary/60 focus:ring-primary/20 transition-all duration-300"})]}),e.jsxs(c.div,{initial:{opacity:0,x:-20},whileInView:{opacity:1,x:0},viewport:{once:!0},transition:{duration:.5,delay:.5},children:[e.jsx(d,{htmlFor:"contact-subject",className:"text-sm font-semibold mb-1.5 block",children:"Subject *"}),e.jsx(w,{id:"contact-subject",type:"text",required:!0,value:N.subject,onChange:i=>F({...N,subject:i.target.value}),placeholder:"What's this about?",className:"bg-background/50 border-primary/20 focus:border-primary/60 focus:ring-primary/20 transition-all duration-300"})]}),e.jsxs(c.div,{initial:{opacity:0,x:-20},whileInView:{opacity:1,x:0},viewport:{once:!0},transition:{duration:.5,delay:.6},children:[e.jsx(d,{htmlFor:"contact-message",className:"text-sm font-semibold mb-1.5 block",children:"Message *"}),e.jsx(re,{id:"contact-message",required:!0,rows:5,value:N.message,onChange:i=>F({...N,message:i.target.value}),placeholder:"Tell us more about your project or inquiry...",className:"bg-background/50 border-primary/20 focus:border-primary/60 focus:ring-primary/20 transition-all duration-300 resize-none"})]}),e.jsx(c.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.5,delay:.7},className:"pt-2",children:e.jsxs(T,{type:"submit",disabled:t,className:"w-full py-5 text-base font-semibold bg-gradient-to-r from-primary to-primary/80 hover:from-primary/90 hover:to-primary/70 shadow-lg shadow-primary/30 hover:shadow-primary/50 transition-all duration-300 relative overflow-hidden group",children:[e.jsx("span",{className:"relative z-10 flex items-center justify-center",children:t?e.jsxs(e.Fragment,{children:[e.jsx(W,{className:"mr-2 h-5 w-5 animate-spin"}),"Sending..."]}):e.jsxs(e.Fragment,{children:[e.jsx(M,{className:"mr-2 h-5 w-5 group-hover:animate-pulse"}),"Send Message",e.jsx(Be,{className:"ml-2 h-5 w-5 group-hover:translate-x-1 transition-transform"})]})}),e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-primary/20 to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-300"})]})})]})},me=({wallId:a,onSuccess:N,open:F,onOpenChange:t})=>{const[s,o]=b.useState({title:"",description:"",category:"",media_type:"image",order_index:0,showreel_type:"embed",showreel_url:""}),[i,x]=b.useState(""),[m,p]=b.useState(null),[g,_]=b.useState(!1),V=ze(),D=l=>{var U;const k=(U=l.target.files)==null?void 0:U[0];if(!k)return;const P=50,v=P*1024*1024;if(k.size>v){y.error(`Media file is too large. Maximum file size is ${P}MB.`),l.target.value="";return}const j=new FileReader;j.onloadend=()=>{x(j.result)},j.onerror=()=>{y.error("Failed to read media file")},j.readAsDataURL(k)},B=l=>{var P;const k=(P=l.target.files)==null?void 0:P[0];k&&p(k)},q=async l=>{var k,P;l.preventDefault(),_(!0);try{const v=i;let j=s.showreel_url;if(m&&s.showreel_type==="upload"){if(m.size>52428800){y.error("Showreel video is too large. Maximum file size is 50MB."),_(!1);return}const I=new FileReader;try{j=await new Promise((S,E)=>{I.onloadend=()=>{I.result?S(I.result):E(new Error("Failed to read video file"))},I.onerror=()=>{E(new Error("Failed to read video file"))},I.readAsDataURL(m)})}catch(S){const E=S instanceof Error?S.message:"Failed to convert video to base64";y.error(E),_(!1);return}}await V.mutateAsync({wall_id:a,title:s.title,description:s.description,category:s.category,media_url:v,media_type:s.media_type,order_index:s.order_index||0,showreel_url:j||void 0,showreel_type:j?s.showreel_type:void 0}),y.success("Project created successfully!"),o({title:"",description:"",category:"",media_type:"image",order_index:0,showreel_type:"embed",showreel_url:""}),x(""),p(null),N()}catch(v){const j=v instanceof Error?v.message:((P=(k=v==null?void 0:v.response)==null?void 0:k.data)==null?void 0:P.error)||"Failed to create project";y.error(j)}finally{_(!1)}};return e.jsxs(e.Fragment,{children:[e.jsxs(T,{onClick:()=>t(!0),children:[e.jsx(oe,{className:"h-4 w-4 mr-2"}),"Add Project"]}),e.jsx(ee,{open:F,onOpenChange:t,children:e.jsxs(se,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[e.jsx(ae,{children:e.jsx(ie,{children:"Create New Project"})}),e.jsxs("form",{onSubmit:q,className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(d,{htmlFor:"title",children:"Project Title *"}),e.jsx(w,{id:"title",value:s.title,onChange:l=>o({...s,title:l.target.value}),placeholder:"Enter project title",required:!0,className:"mt-2"})]}),e.jsxs("div",{children:[e.jsx(d,{htmlFor:"description",children:"Description"}),e.jsx(re,{id:"description",value:s.description,onChange:l=>o({...s,description:l.target.value}),placeholder:"Describe your project...",rows:4,className:"mt-2"})]}),e.jsxs("div",{children:[e.jsx(d,{htmlFor:"category",children:"Category"}),e.jsx(w,{id:"category",value:s.category,onChange:l=>o({...s,category:l.target.value}),placeholder:"e.g., Creature FX, Destruction FX, Character Animation",className:"mt-2"})]}),e.jsxs("div",{children:[e.jsx(d,{htmlFor:"media_type",children:"Media Type"}),e.jsxs(J,{value:s.media_type,onValueChange:l=>o({...s,media_type:l}),children:[e.jsx(Z,{className:"mt-2",children:e.jsx(K,{})}),e.jsxs(Q,{children:[e.jsx($,{value:"image",children:"Image"}),e.jsx($,{value:"video",children:"Video"})]})]})]}),e.jsxs("div",{children:[e.jsx(d,{htmlFor:"media",children:"Media File"}),e.jsx(w,{id:"media",type:"file",accept:s.media_type==="video"?"video/*":"image/*",onChange:D,className:"mt-2"}),i&&e.jsx("div",{className:"mt-4",children:s.media_type==="video"?e.jsx("video",{src:i,className:"max-h-48 rounded-lg",controls:!0}):e.jsx("img",{src:i,alt:"Preview",className:"max-h-48 rounded-lg object-cover"})})]}),e.jsxs("div",{children:[e.jsx(d,{htmlFor:"order_index",children:"Order Index"}),e.jsx(w,{id:"order_index",type:"number",value:s.order_index,onChange:l=>o({...s,order_index:parseInt(l.target.value)||0}),placeholder:"Display order (0 = first)",className:"mt-2"})]}),e.jsxs("div",{children:[e.jsx(d,{htmlFor:"showreel_type",children:"Showreel Type (Optional)"}),e.jsxs(J,{value:s.showreel_type,onValueChange:l=>o({...s,showreel_type:l}),children:[e.jsx(Z,{className:"mt-2",children:e.jsx(K,{})}),e.jsxs(Q,{children:[e.jsx($,{value:"embed",children:"Embed URL (YouTube/Vimeo)"}),e.jsx($,{value:"upload",children:"Upload Video"})]})]})]}),s.showreel_type==="embed"&&e.jsxs("div",{children:[e.jsx(d,{htmlFor:"showreel_url",children:"Showreel URL"}),e.jsx(w,{id:"showreel_url",type:"url",value:s.showreel_url,onChange:l=>o({...s,showreel_url:l.target.value}),placeholder:"https://youtube.com/embed/...",className:"mt-2"})]}),s.showreel_type==="upload"&&e.jsxs("div",{children:[e.jsx(d,{htmlFor:"showreel",children:"Upload Showreel Video"}),e.jsx(w,{id:"showreel",type:"file",accept:"video/*",onChange:B,className:"mt-2"}),m&&e.jsxs("p",{className:"text-sm text-muted-foreground mt-2",children:["Selected: ",m.name]})]}),e.jsxs("div",{className:"flex justify-end gap-2 pt-4",children:[e.jsx(T,{type:"button",variant:"outline",onClick:()=>t(!1),disabled:g,children:"Cancel"}),e.jsx(T,{type:"submit",disabled:g||!s.title,children:g?e.jsxs(e.Fragment,{children:[e.jsx(W,{className:"mr-2 h-4 w-4 animate-spin"}),"Creating..."]}):"Create Project"})]})]})]})})]})},Ye=({project:a,onSuccess:N,open:F,onOpenChange:t})=>{const[s,o]=b.useState({title:a.title||"",description:a.description||"",category:a.category||"",media_type:a.media_type||"image",order_index:a.order_index||0,showreel_type:a.showreel_type||"embed",showreel_url:a.showreel_url||""}),[i,x]=b.useState(a.media_url||""),[m,p]=b.useState(null),[g,_]=b.useState(!1),V=xe();b.useEffect(()=>{o({title:a.title||"",description:a.description||"",category:a.category||"",media_type:a.media_type||"image",order_index:a.order_index||0,showreel_type:a.showreel_type||"embed",showreel_url:a.showreel_url||""}),x(a.media_url||""),p(null)},[a]);const D=l=>{var U;const k=(U=l.target.files)==null?void 0:U[0];if(!k)return;const P=50,v=P*1024*1024;if(k.size>v){y.error(`Media file is too large. Maximum file size is ${P}MB.`),l.target.value="";return}const j=new FileReader;j.onloadend=()=>{x(j.result)},j.onerror=()=>{y.error("Failed to read media file")},j.readAsDataURL(k)},B=l=>{var P;const k=(P=l.target.files)==null?void 0:P[0];k&&p(k)},q=async l=>{var k,P;l.preventDefault(),_(!0);try{const v=i||a.media_url;let j=s.showreel_url;if(m&&s.showreel_type==="upload"){if(m.size>52428800){y.error("Showreel video is too large. Maximum file size is 50MB."),_(!1);return}const I=new FileReader;try{j=await new Promise((S,E)=>{I.onloadend=()=>{I.result?S(I.result):E(new Error("Failed to read video file"))},I.onerror=()=>{E(new Error("Failed to read video file"))},I.readAsDataURL(m)})}catch(S){const E=S instanceof Error?S.message:"Failed to convert video to base64";y.error(E),_(!1);return}}await V.mutateAsync({id:a._id,data:{title:s.title,description:s.description,category:s.category,media_url:v,media_type:s.media_type,order_index:s.order_index||0,showreel_url:j||void 0,showreel_type:j?s.showreel_type:void 0}}),y.success("Project updated successfully!"),N()}catch(v){const j=v instanceof Error?v.message:((P=(k=v==null?void 0:v.response)==null?void 0:k.data)==null?void 0:P.error)||"Failed to update project";y.error(j)}finally{_(!1)}};return e.jsx(ee,{open:F,onOpenChange:t,children:e.jsxs(se,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[e.jsx(ae,{children:e.jsx(ie,{children:"Edit Project"})}),e.jsxs("form",{onSubmit:q,className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(d,{htmlFor:"edit-title",children:"Project Title *"}),e.jsx(w,{id:"edit-title",value:s.title,onChange:l=>o({...s,title:l.target.value}),placeholder:"Enter project title",required:!0,className:"mt-2"})]}),e.jsxs("div",{children:[e.jsx(d,{htmlFor:"edit-description",children:"Description"}),e.jsx(re,{id:"edit-description",value:s.description,onChange:l=>o({...s,description:l.target.value}),placeholder:"Describe your project...",rows:4,className:"mt-2"})]}),e.jsxs("div",{children:[e.jsx(d,{htmlFor:"edit-category",children:"Category"}),e.jsx(w,{id:"edit-category",value:s.category,onChange:l=>o({...s,category:l.target.value}),placeholder:"e.g., Creature FX, Destruction FX, Character Animation",className:"mt-2"})]}),e.jsxs("div",{children:[e.jsx(d,{htmlFor:"edit-media_type",children:"Media Type"}),e.jsxs(J,{value:s.media_type,onValueChange:l=>o({...s,media_type:l}),children:[e.jsx(Z,{className:"mt-2",children:e.jsx(K,{})}),e.jsxs(Q,{children:[e.jsx($,{value:"image",children:"Image"}),e.jsx($,{value:"video",children:"Video"})]})]})]}),e.jsxs("div",{children:[e.jsx(d,{htmlFor:"edit-media",children:"Media File (leave empty to keep current)"}),e.jsx(w,{id:"edit-media",type:"file",accept:s.media_type==="video"?"video/*":"image/*",onChange:D,className:"mt-2"}),i&&e.jsx("div",{className:"mt-4",children:s.media_type==="video"?e.jsx("video",{src:i,className:"max-h-48 rounded-lg",controls:!0}):e.jsx("img",{src:i,alt:"Preview",className:"max-h-48 rounded-lg object-cover"})})]}),e.jsxs("div",{children:[e.jsx(d,{htmlFor:"edit-order_index",children:"Order Index"}),e.jsx(w,{id:"edit-order_index",type:"number",value:s.order_index,onChange:l=>o({...s,order_index:parseInt(l.target.value)||0}),placeholder:"Display order (0 = first)",className:"mt-2"})]}),e.jsxs("div",{children:[e.jsx(d,{htmlFor:"edit-showreel_type",children:"Showreel Type (Optional)"}),e.jsxs(J,{value:s.showreel_type,onValueChange:l=>o({...s,showreel_type:l}),children:[e.jsx(Z,{className:"mt-2",children:e.jsx(K,{})}),e.jsxs(Q,{children:[e.jsx($,{value:"embed",children:"Embed URL (YouTube/Vimeo)"}),e.jsx($,{value:"upload",children:"Upload Video"})]})]})]}),s.showreel_type==="embed"&&e.jsxs("div",{children:[e.jsx(d,{htmlFor:"edit-showreel_url",children:"Showreel URL"}),e.jsx(w,{id:"edit-showreel_url",type:"url",value:s.showreel_url,onChange:l=>o({...s,showreel_url:l.target.value}),placeholder:"https://youtube.com/embed/...",className:"mt-2"})]}),s.showreel_type==="upload"&&e.jsxs("div",{children:[e.jsx(d,{htmlFor:"edit-showreel",children:"Upload Showreel Video (leave empty to keep current)"}),e.jsx(w,{id:"edit-showreel",type:"file",accept:"video/*",onChange:B,className:"mt-2"}),m&&e.jsxs("p",{className:"text-sm text-muted-foreground mt-2",children:["Selected: ",m.name]}),!m&&a.showreel_url&&e.jsx("p",{className:"text-sm text-muted-foreground mt-2",children:"Current showreel will be kept"})]}),e.jsxs("div",{className:"flex justify-end gap-2 pt-4",children:[e.jsx(T,{type:"button",variant:"outline",onClick:()=>t(!1),disabled:g,children:"Cancel"}),e.jsx(T,{type:"submit",disabled:g||!s.title,children:g?e.jsxs(e.Fragment,{children:[e.jsx(W,{className:"mr-2 h-4 w-4 animate-spin"}),"Updating..."]}):"Update Project"})]})]})]})})},he=({teamMember:a,wallId:N,onSuccess:F,open:t,onOpenChange:s})=>{var l,k,P,v,j,U;const o=!!a,[i,x]=b.useState({name:(a==null?void 0:a.name)||"",role:(a==null?void 0:a.role)||"",bio:(a==null?void 0:a.bio)||"",email:(a==null?void 0:a.email)||"",experience_years:(a==null?void 0:a.experience_years)||0,skills:((l=a==null?void 0:a.skills)==null?void 0:l.join(", "))||"",order_index:(a==null?void 0:a.order_index)||0,social_links:{linkedin:((k=a==null?void 0:a.social_links)==null?void 0:k.linkedin)||"",twitter:((P=a==null?void 0:a.social_links)==null?void 0:P.twitter)||"",instagram:((v=a==null?void 0:a.social_links)==null?void 0:v.instagram)||"",website:((j=a==null?void 0:a.social_links)==null?void 0:j.website)||"",portfolio:((U=a==null?void 0:a.social_links)==null?void 0:U.portfolio)||""}}),[m,p]=b.useState((a==null?void 0:a.avatar_url)||""),[g,_]=b.useState(!1),V=ue(),D=pe();b.useEffect(()=>{var n,I,S,E,h,A;t&&(a?(x({name:a.name||"",role:a.role||"",bio:a.bio||"",email:a.email||"",experience_years:a.experience_years||0,skills:((n=a.skills)==null?void 0:n.join(", "))||"",order_index:a.order_index||0,social_links:{linkedin:((I=a.social_links)==null?void 0:I.linkedin)||"",twitter:((S=a.social_links)==null?void 0:S.twitter)||"",instagram:((E=a.social_links)==null?void 0:E.instagram)||"",website:((h=a.social_links)==null?void 0:h.website)||"",portfolio:((A=a.social_links)==null?void 0:A.portfolio)||""}}),p(a.avatar_url||"")):(x({name:"",role:"",bio:"",email:"",experience_years:0,skills:"",order_index:0,social_links:{linkedin:"",twitter:"",instagram:"",website:"",portfolio:""}}),p("")))},[a,t]);const B=n=>{var A;const I=(A=n.target.files)==null?void 0:A[0];if(!I)return;const S=5,E=S*1024*1024;if(I.size>E){y.error(`Avatar image is too large. Maximum file size is ${S}MB.`),n.target.value="";return}const h=new FileReader;h.onloadend=()=>{p(h.result)},h.onerror=()=>{y.error("Failed to read avatar image")},h.readAsDataURL(I)},q=async n=>{var I,S,E,h,A,H,Y,X,r;if(n.preventDefault(),!i.name.trim()){y.error("Name is required");return}if(!i.role.trim()){y.error("Role is required");return}_(!0);try{const f=i.skills.split(",").map(u=>u.trim()).filter(u=>u.length>0),C={wall_id:N,name:i.name.trim(),role:i.role.trim(),bio:((I=i.bio)==null?void 0:I.trim())||void 0,email:((S=i.email)==null?void 0:S.trim())||void 0,experience_years:i.experience_years||void 0,skills:f.length>0?f:void 0,order_index:i.order_index||0,avatar_url:m||void 0,social_links:Object.keys(i.social_links).some(u=>{var L;return(L=i.social_links[u])==null?void 0:L.trim()})?{linkedin:((E=i.social_links.linkedin)==null?void 0:E.trim())||void 0,twitter:((h=i.social_links.twitter)==null?void 0:h.trim())||void 0,instagram:((A=i.social_links.instagram)==null?void 0:A.trim())||void 0,website:((H=i.social_links.website)==null?void 0:H.trim())||void 0,portfolio:((Y=i.social_links.portfolio)==null?void 0:Y.trim())||void 0}:void 0};o?(await D.mutateAsync({id:a._id,data:C}),y.success("Team member updated successfully!")):(await V.mutateAsync(C),y.success("Team member added successfully!")),x({name:"",role:"",bio:"",email:"",experience_years:0,skills:"",order_index:0,social_links:{linkedin:"",twitter:"",instagram:"",website:"",portfolio:""}}),p(""),F(),s(!1)}catch(f){console.error("Team member error:",f);const C=f instanceof Error?f.message:((r=(X=f==null?void 0:f.response)==null?void 0:X.data)==null?void 0:r.error)||`Failed to ${o?"update":"create"} team member`;y.error(C)}finally{_(!1)}};return e.jsx(ee,{open:t,onOpenChange:s,children:e.jsxs(se,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[e.jsx(ae,{children:e.jsx(ie,{children:o?"Edit Team Member":"Add Team Member"})}),e.jsxs("form",{onSubmit:q,className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(d,{htmlFor:"team-name",children:"Name *"}),e.jsx(w,{id:"team-name",value:i.name,onChange:n=>x({...i,name:n.target.value}),placeholder:"Team member name",required:!0,className:"mt-2"})]}),e.jsxs("div",{children:[e.jsx(d,{htmlFor:"team-role",children:"Role *"}),e.jsx(w,{id:"team-role",value:i.role,onChange:n=>x({...i,role:n.target.value}),placeholder:"e.g., VFX Supervisor, Compositor, 3D Artist",required:!0,className:"mt-2"})]}),e.jsxs("div",{children:[e.jsx(d,{htmlFor:"team-bio",children:"Bio"}),e.jsx(re,{id:"team-bio",value:i.bio,onChange:n=>x({...i,bio:n.target.value}),placeholder:"Brief description about the team member...",rows:3,className:"mt-2"})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(d,{htmlFor:"team-email",children:"Email"}),e.jsx(w,{id:"team-email",type:"email",value:i.email,onChange:n=>x({...i,email:n.target.value}),placeholder:"team@example.com",className:"mt-2"})]}),e.jsxs("div",{children:[e.jsx(d,{htmlFor:"team-experience",children:"Years of Experience"}),e.jsx(w,{id:"team-experience",type:"number",min:"0",value:i.experience_years,onChange:n=>x({...i,experience_years:parseInt(n.target.value)||0}),placeholder:"0",className:"mt-2"})]})]}),e.jsxs("div",{children:[e.jsx(d,{htmlFor:"team-skills",children:"Skills (comma-separated)"}),e.jsx(w,{id:"team-skills",value:i.skills,onChange:n=>x({...i,skills:n.target.value}),placeholder:"e.g., Compositing, 3D Modeling, Animation, VFX",className:"mt-2"})]}),e.jsxs("div",{children:[e.jsx(d,{htmlFor:"team-avatar",children:"Avatar Image"}),e.jsx(w,{id:"team-avatar",type:"file",accept:"image/*",onChange:B,className:"mt-2"}),m&&e.jsx("div",{className:"mt-4",children:e.jsx("img",{src:m,alt:"Avatar preview",className:"w-24 h-24 rounded-full object-cover border-2"})})]}),e.jsxs("div",{children:[e.jsx(d,{children:"Social Links"}),e.jsxs("div",{className:"grid grid-cols-2 gap-4 mt-2",children:[e.jsxs("div",{children:[e.jsx(d,{htmlFor:"team-linkedin",className:"text-xs",children:"LinkedIn"}),e.jsx(w,{id:"team-linkedin",type:"url",value:i.social_links.linkedin,onChange:n=>x({...i,social_links:{...i.social_links,linkedin:n.target.value}}),placeholder:"https://linkedin.com/in/...",className:"mt-1"})]}),e.jsxs("div",{children:[e.jsx(d,{htmlFor:"team-twitter",className:"text-xs",children:"Twitter"}),e.jsx(w,{id:"team-twitter",type:"url",value:i.social_links.twitter,onChange:n=>x({...i,social_links:{...i.social_links,twitter:n.target.value}}),placeholder:"https://twitter.com/...",className:"mt-1"})]}),e.jsxs("div",{children:[e.jsx(d,{htmlFor:"team-instagram",className:"text-xs",children:"Instagram"}),e.jsx(w,{id:"team-instagram",type:"url",value:i.social_links.instagram,onChange:n=>x({...i,social_links:{...i.social_links,instagram:n.target.value}}),placeholder:"https://instagram.com/...",className:"mt-1"})]}),e.jsxs("div",{children:[e.jsx(d,{htmlFor:"team-website",className:"text-xs",children:"Website"}),e.jsx(w,{id:"team-website",type:"url",value:i.social_links.website,onChange:n=>x({...i,social_links:{...i.social_links,website:n.target.value}}),placeholder:"https://example.com",className:"mt-1"})]}),e.jsxs("div",{className:"col-span-2",children:[e.jsx(d,{htmlFor:"team-portfolio",className:"text-xs",children:"Portfolio"}),e.jsx(w,{id:"team-portfolio",type:"url",value:i.social_links.portfolio,onChange:n=>x({...i,social_links:{...i.social_links,portfolio:n.target.value}}),placeholder:"https://portfolio.example.com",className:"mt-1"})]})]})]}),e.jsxs("div",{children:[e.jsx(d,{htmlFor:"team-order",children:"Display Order"}),e.jsx(w,{id:"team-order",type:"number",min:"0",value:i.order_index,onChange:n=>x({...i,order_index:parseInt(n.target.value)||0}),placeholder:"0 (lower = first)",className:"mt-2"})]}),e.jsxs("div",{className:"flex justify-end gap-2 pt-4",children:[e.jsx(T,{type:"button",variant:"outline",onClick:()=>s(!1),disabled:g,children:"Cancel"}),e.jsx(T,{type:"submit",disabled:g||!i.name||!i.role,children:g?e.jsxs(e.Fragment,{children:[e.jsx(W,{className:"mr-2 h-4 w-4 animate-spin"}),o?"Updating...":"Adding..."]}):o?"Update Team Member":"Add Team Member"})]})]})]})})},Xe=({awards:a})=>{const F=(t=>{const s=[],o=/(.+?)\s*-\s*(\d{4})$/,i=/^(\d{4})[:\-\s]+(.+)$/,x=/(.+?)\s*\((\d{4})\)/;return t.forEach(m=>{let p,g=m;const _=m.match(o);if(_)g=_[1].trim(),p=_[2];else{const V=m.match(i);if(V)p=V[1],g=V[2].trim();else{const D=m.match(x);D&&(g=D[1].trim(),p=D[2])}}s.push({year:p,content:g})}),s.sort((m,p)=>!m.year||!p.year?0:parseInt(p.year)-parseInt(m.year))})(a);return e.jsx(c.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0,margin:"-100px"},transition:{duration:.6},className:"max-w-8xl mx-auto",children:e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:F.map((t,s)=>e.jsx(c.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0,margin:"-50px"},transition:{duration:.5,delay:s*.1},children:e.jsx(O,{className:"p-4 bg-gradient-to-br from-card/90 to-card/50 backdrop-blur-sm border-2 border-primary/20 hover:border-primary/40 transition-all duration-300 shadow-lg hover:shadow-xl h-full",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx(ne,{className:"h-5 w-5 text-primary flex-shrink-0 mt-0.5"}),e.jsxs("div",{className:"flex-1",children:[t.year&&e.jsx("div",{className:"mb-1",children:e.jsx("span",{className:"text-sm font-semibold text-primary",children:t.year})}),e.jsx("p",{className:"text-sm md:text-base leading-relaxed text-foreground font-medium",children:t.content})]})]})})},s))})})},Ge=({content:a})=>{const F=(t=>{const s=t.split(`
`).filter(g=>g.trim()),o=[],i=/^(\d{4})[:\-\s]+(.+)$/,x=/\((\d{4})\)/;let m,p=[];return s.forEach((g,_)=>{const V=g.trim(),D=V.match(i);if(D)p.length>0&&(o.push({year:m,content:p.join(" ").trim()}),p=[]),m=D[1],p.push(D[2]);else{const B=V.match(x);B&&!m?(m=B[1],p.push(V.replace(x,"").trim())):p.push(V)}}),p.length>0&&o.push({year:m,content:p.join(" ").trim()}),o.length===0||o.every(g=>!g.year)?[{content:t}]:o.sort((g,_)=>!g.year||!_.year?0:parseInt(_.year)-parseInt(g.year))})(a);return e.jsx(c.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0,margin:"-100px"},transition:{duration:.6},className:"max-w-6xl mx-auto",children:e.jsxs("div",{className:"flex gap-0 items-start mt-12 mb-12",children:[e.jsx("div",{className:"flex-shrink-0 flex items-start justify-start",style:{width:"120px",minHeight:"65vh",position:"relative",zIndex:1,alignSelf:"flex-start"},children:e.jsx("div",{className:"text-vertical-outline-red text-4xl md:text-5xl lg:text-6xl",style:{transform:"rotate(-90deg)",transformOrigin:"center",whiteSpace:"nowrap",height:"fit-content",width:"fit-content",position:"absolute",top:240,left:"-100%",marginLeft:"-160px"},children:"OUR JOURNEY".split("").map((t,s)=>e.jsx("span",{className:"letter inline-block",children:t===" "?"Â ":t},s))})}),e.jsxs("div",{className:"flex-1 relative pl-0",children:[e.jsx("div",{className:"absolute left-0 md:left-32 top-0 bottom-0 w-1 bg-gradient-to-b from-primary via-primary/70 to-primary/40 rounded-full"}),e.jsx("div",{className:"space-y-12",children:F.map((t,s)=>e.jsxs(c.div,{initial:{opacity:0,x:-30},whileInView:{opacity:1,x:0},viewport:{once:!0,margin:"-50px"},transition:{duration:.6,delay:s*.1},className:"relative flex items-start gap-8",children:[e.jsx(c.div,{initial:{scale:0},whileInView:{scale:1},viewport:{once:!0},transition:{duration:.4,delay:s*.1+.2},className:"absolute left-0 md:left-32 w-5 h-5 bg-primary rounded-full border-4 border-background shadow-lg transform -translate-x-1/2 z-10 flex items-center justify-center",children:e.jsx("div",{className:"w-2 h-2 bg-primary rounded-full"})}),t.year?e.jsx("div",{className:"w-28 md:w-32 flex-shrink-0 pt-1",children:e.jsx(c.div,{initial:{scale:.8,opacity:0},whileInView:{scale:1,opacity:1},viewport:{once:!0},transition:{duration:.4,delay:s*.1+.3},className:"text-right",children:e.jsx("div",{className:"bg-primary/10 border-2 border-primary/40 rounded-lg px-4 py-3 shadow-md hover:bg-primary/20 transition-colors",children:e.jsx("span",{className:"text-2xl md:text-3xl font-bold text-primary block",children:t.year})})})}):e.jsx("div",{className:"w-28 md:w-32 flex-shrink-0"}),e.jsx("div",{className:"flex-1 pt-1",children:e.jsx(c.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.5,delay:s*.1+.4},children:e.jsx(O,{className:"p-6 md:p-8 bg-gradient-to-br from-card/90 to-card/50 backdrop-blur-sm border-2 border-primary/20 hover:border-primary/40 transition-all duration-300 shadow-lg hover:shadow-xl group",children:e.jsx("p",{className:"text-base md:text-lg leading-relaxed text-foreground",children:t.content})})})})]},s))})]})]})})},Je=({teamMember:a,open:N,onOpenChange:F})=>e.jsx(ee,{open:N,onOpenChange:F,children:e.jsxs(se,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[e.jsx(ae,{children:e.jsx(ie,{className:"text-2xl",children:"Team Member Details"})}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex flex-col items-center text-center space-y-4",children:[a.avatar_url?e.jsx(c.img,{src:a.avatar_url,alt:a.name,className:"w-32 h-32 rounded-full object-cover border-4 border-primary/20",initial:{scale:.9},animate:{scale:1},transition:{duration:.3}}):e.jsx("div",{className:"w-32 h-32 rounded-full bg-primary/10 flex items-center justify-center border-4 border-primary/20",children:e.jsx(ye,{className:"h-16 w-16 text-primary/50"})}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("h3",{className:"text-3xl font-bold",children:a.name}),e.jsx("p",{className:"text-lg text-primary font-semibold",children:a.role}),a.experience_years&&e.jsxs("p",{className:"text-sm text-muted-foreground",children:[a.experience_years," ",a.experience_years===1?"year":"years"," of experience"]})]})]}),a.bio&&e.jsxs("div",{children:[e.jsx("h4",{className:"text-lg font-semibold mb-2",children:"About"}),e.jsx("p",{className:"text-sm text-foreground/80 leading-relaxed",children:a.bio})]}),a.skills&&a.skills.length>0&&e.jsxs("div",{children:[e.jsx("h4",{className:"text-lg font-semibold mb-3",children:"Skills"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:a.skills.map((t,s)=>e.jsx("span",{className:"px-4 py-2 bg-primary/10 text-primary text-sm rounded-full border border-primary/20 hover:bg-primary/20 transition-colors",children:t},s))})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx("h4",{className:"text-lg font-semibold",children:"Contact Information"}),a.email&&e.jsxs("div",{className:"flex items-center gap-3 p-3 bg-card border border-primary/20 rounded-lg",children:[e.jsx(M,{className:"h-5 w-5 text-primary"}),e.jsx("a",{href:`mailto:${a.email}`,className:"text-sm text-foreground hover:text-primary transition-colors",children:a.email})]})]}),a.social_links&&Object.keys(a.social_links).some(t=>{var s;return(s=a.social_links)==null?void 0:s[t]})&&e.jsxs("div",{children:[e.jsx("h4",{className:"text-lg font-semibold mb-3",children:"Connect"}),e.jsxs("div",{className:"flex flex-wrap gap-3",children:[a.social_links.linkedin&&e.jsx(T,{variant:"outline",asChild:!0,children:e.jsxs("a",{href:a.social_links.linkedin,target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-2",children:[e.jsx(ve,{className:"h-4 w-4"}),"LinkedIn"]})}),a.social_links.twitter&&e.jsx(T,{variant:"outline",asChild:!0,children:e.jsxs("a",{href:a.social_links.twitter,target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-2",children:[e.jsx(fe,{className:"h-4 w-4"}),"Twitter"]})}),a.social_links.instagram&&e.jsx(T,{variant:"outline",asChild:!0,children:e.jsxs("a",{href:a.social_links.instagram,target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-2",children:[e.jsx(je,{className:"h-4 w-4"}),"Instagram"]})}),a.social_links.website&&e.jsx(T,{variant:"outline",asChild:!0,children:e.jsxs("a",{href:a.social_links.website,target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-2",children:[e.jsx(ge,{className:"h-4 w-4"}),"Website"]})}),a.social_links.portfolio&&e.jsx(T,{variant:"outline",asChild:!0,children:e.jsxs("a",{href:a.social_links.portfolio,target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-2",children:[e.jsx(ne,{className:"h-4 w-4"}),"Portfolio"]})})]})]})]})]})});export{ys as default};
