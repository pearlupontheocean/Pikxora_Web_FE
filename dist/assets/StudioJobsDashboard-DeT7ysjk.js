import{c as O,ac as Se,J as te,r as o,j as e,Q as Ee,Y as se,ak as Ae,P as C,R as y,a8 as re,V as ke,o as j,a as Pe,$ as De,am as Me,U as Be}from"./index-CSY5YgiJ.js";import{B as _,C as H,a as X,b as q,c as J}from"./card-dyY2Qvrr.js";import{B as Q}from"./badge-BGXpxCgB.js";import{u as ae}from"./index-Q8Z8E6D0.js";import{S as W}from"./skeleton-DxyLGv-Z.js";import{P as Z}from"./plus-35letP8-.js";import{E as ee}from"./eye-DNixVO71.js";import{D as Le}from"./dollar-sign-BaKeI9bc.js";import{C as Ge}from"./clock-CjbOfw6e.js";/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ve=O("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $e=O("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ke=O("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);var M="rovingFocusGroup.onEntryFocus",Oe={bubbles:!1,cancelable:!0},R="RovingFocusGroup",[B,ne,Ue]=Se(R),[Ye,oe]=te(R,[Ue]),[ze,He]=Ye(R),ce=o.forwardRef((t,r)=>e.jsx(B.Provider,{scope:t.__scopeRovingFocusGroup,children:e.jsx(B.Slot,{scope:t.__scopeRovingFocusGroup,children:e.jsx(Xe,{...t,ref:r})})}));ce.displayName=R;var Xe=o.forwardRef((t,r)=>{const{__scopeRovingFocusGroup:a,orientation:n,loop:d=!1,dir:l,currentTabStopId:c,defaultCurrentTabStopId:m,onCurrentTabStopIdChange:b,onEntryFocus:f,preventScrollOnEntryFocus:s=!1,...i}=t,g=o.useRef(null),F=Ee(r,g),S=ae(l),[E,u]=se({prop:c,defaultProp:m??null,onChange:b,caller:R}),[N,k]=o.useState(!1),v=Ae(f),w=ne(a),P=o.useRef(!1),[Ce,Y]=o.useState(0);return o.useEffect(()=>{const x=g.current;if(x)return x.addEventListener(M,v),()=>x.removeEventListener(M,v)},[v]),e.jsx(ze,{scope:a,orientation:n,dir:S,loop:d,currentTabStopId:E,onItemFocus:o.useCallback(x=>u(x),[u]),onItemShiftTab:o.useCallback(()=>k(!0),[]),onFocusableItemAdd:o.useCallback(()=>Y(x=>x+1),[]),onFocusableItemRemove:o.useCallback(()=>Y(x=>x-1),[]),children:e.jsx(C.div,{tabIndex:N||Ce===0?-1:0,"data-orientation":n,...i,ref:F,style:{outline:"none",...t.style},onMouseDown:y(t.onMouseDown,()=>{P.current=!0}),onFocus:y(t.onFocus,x=>{const _e=!P.current;if(x.target===x.currentTarget&&_e&&!N){const z=new CustomEvent(M,Oe);if(x.currentTarget.dispatchEvent(z),!z.defaultPrevented){const D=w().filter(T=>T.focusable),Ie=D.find(T=>T.active),Re=D.find(T=>T.id===E),Fe=[Ie,Re,...D].filter(Boolean).map(T=>T.ref.current);de(Fe,s)}}P.current=!1}),onBlur:y(t.onBlur,()=>k(!1))})})}),ie="RovingFocusGroupItem",le=o.forwardRef((t,r)=>{const{__scopeRovingFocusGroup:a,focusable:n=!0,active:d=!1,tabStopId:l,children:c,...m}=t,b=re(),f=l||b,s=He(ie,a),i=s.currentTabStopId===f,g=ne(a),{onFocusableItemAdd:F,onFocusableItemRemove:S,currentTabStopId:E}=s;return o.useEffect(()=>{if(n)return F(),()=>S()},[n,F,S]),e.jsx(B.ItemSlot,{scope:a,id:f,focusable:n,active:d,children:e.jsx(C.span,{tabIndex:i?0:-1,"data-orientation":s.orientation,...m,ref:r,onMouseDown:y(t.onMouseDown,u=>{n?s.onItemFocus(f):u.preventDefault()}),onFocus:y(t.onFocus,()=>s.onItemFocus(f)),onKeyDown:y(t.onKeyDown,u=>{if(u.key==="Tab"&&u.shiftKey){s.onItemShiftTab();return}if(u.target!==u.currentTarget)return;const N=Qe(u,s.orientation,s.dir);if(N!==void 0){if(u.metaKey||u.ctrlKey||u.altKey||u.shiftKey)return;u.preventDefault();let v=g().filter(w=>w.focusable).map(w=>w.ref.current);if(N==="last")v.reverse();else if(N==="prev"||N==="next"){N==="prev"&&v.reverse();const w=v.indexOf(u.currentTarget);v=s.loop?We(v,w+1):v.slice(w+1)}setTimeout(()=>de(v))}}),children:typeof c=="function"?c({isCurrentTabStop:i,hasTabStop:E!=null}):c})})});le.displayName=ie;var qe={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function Je(t,r){return r!=="rtl"?t:t==="ArrowLeft"?"ArrowRight":t==="ArrowRight"?"ArrowLeft":t}function Qe(t,r,a){const n=Je(t.key,a);if(!(r==="vertical"&&["ArrowLeft","ArrowRight"].includes(n))&&!(r==="horizontal"&&["ArrowUp","ArrowDown"].includes(n)))return qe[n]}function de(t,r=!1){const a=document.activeElement;for(const n of t)if(n===a||(n.focus({preventScroll:r}),document.activeElement!==a))return}function We(t,r){return t.map((a,n)=>t[(r+n)%t.length])}var Ze=ce,et=le,A="Tabs",[tt,bt]=te(A,[oe]),ue=oe(),[st,U]=tt(A),me=o.forwardRef((t,r)=>{const{__scopeTabs:a,value:n,onValueChange:d,defaultValue:l,orientation:c="horizontal",dir:m,activationMode:b="automatic",...f}=t,s=ae(m),[i,g]=se({prop:n,onChange:d,defaultProp:l??"",caller:A});return e.jsx(st,{scope:a,baseId:re(),value:i,onValueChange:g,orientation:c,dir:s,activationMode:b,children:e.jsx(C.div,{dir:s,"data-orientation":c,...f,ref:r})})});me.displayName=A;var fe="TabsList",xe=o.forwardRef((t,r)=>{const{__scopeTabs:a,loop:n=!0,...d}=t,l=U(fe,a),c=ue(a);return e.jsx(Ze,{asChild:!0,...c,orientation:l.orientation,dir:l.dir,loop:n,children:e.jsx(C.div,{role:"tablist","aria-orientation":l.orientation,...d,ref:r})})});xe.displayName=fe;var pe="TabsTrigger",he=o.forwardRef((t,r)=>{const{__scopeTabs:a,value:n,disabled:d=!1,...l}=t,c=U(pe,a),m=ue(a),b=ve(c.baseId,n),f=je(c.baseId,n),s=n===c.value;return e.jsx(et,{asChild:!0,...m,focusable:!d,active:s,children:e.jsx(C.button,{type:"button",role:"tab","aria-selected":s,"aria-controls":f,"data-state":s?"active":"inactive","data-disabled":d?"":void 0,disabled:d,id:b,...l,ref:r,onMouseDown:y(t.onMouseDown,i=>{!d&&i.button===0&&i.ctrlKey===!1?c.onValueChange(n):i.preventDefault()}),onKeyDown:y(t.onKeyDown,i=>{[" ","Enter"].includes(i.key)&&c.onValueChange(n)}),onFocus:y(t.onFocus,()=>{const i=c.activationMode!=="manual";!s&&!d&&i&&c.onValueChange(n)})})})});he.displayName=pe;var be="TabsContent",ge=o.forwardRef((t,r)=>{const{__scopeTabs:a,value:n,forceMount:d,children:l,...c}=t,m=U(be,a),b=ve(m.baseId,n),f=je(m.baseId,n),s=n===m.value,i=o.useRef(s);return o.useEffect(()=>{const g=requestAnimationFrame(()=>i.current=!1);return()=>cancelAnimationFrame(g)},[]),e.jsx(ke,{present:d||s,children:({present:g})=>e.jsx(C.div,{"data-state":s?"active":"inactive","data-orientation":m.orientation,role:"tabpanel","aria-labelledby":b,hidden:!g,id:f,tabIndex:0,...c,ref:r,style:{...t.style,animationDuration:i.current?"0s":void 0},children:g&&l})})});ge.displayName=be;function ve(t,r){return`${t}-trigger-${r}`}function je(t,r){return`${t}-content-${r}`}var rt=me,ye=xe,Ne=he,we=ge;const at=rt,Te=o.forwardRef(({className:t,...r},a)=>e.jsx(ye,{ref:a,className:j("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",t),...r}));Te.displayName=ye.displayName;const L=o.forwardRef(({className:t,...r},a)=>e.jsx(Ne,{ref:a,className:j("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",t),...r}));L.displayName=Ne.displayName;const G=o.forwardRef(({className:t,...r},a)=>e.jsx(we,{ref:a,className:j("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",t),...r}));G.displayName=we.displayName;const V=o.forwardRef(({className:t,...r},a)=>e.jsx("div",{className:"relative w-full overflow-auto",children:e.jsx("table",{ref:a,className:j("w-full caption-bottom text-sm",t),...r})}));V.displayName="Table";const $=o.forwardRef(({className:t,...r},a)=>e.jsx("thead",{ref:a,className:j("[&_tr]:border-b",t),...r}));$.displayName="TableHeader";const K=o.forwardRef(({className:t,...r},a)=>e.jsx("tbody",{ref:a,className:j("[&_tr:last-child]:border-0",t),...r}));K.displayName="TableBody";const nt=o.forwardRef(({className:t,...r},a)=>e.jsx("tfoot",{ref:a,className:j("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",t),...r}));nt.displayName="TableFooter";const I=o.forwardRef(({className:t,...r},a)=>e.jsx("tr",{ref:a,className:j("border-b transition-colors data-[state=selected]:bg-muted hover:bg-muted/50",t),...r}));I.displayName="TableRow";const p=o.forwardRef(({className:t,...r},a)=>e.jsx("th",{ref:a,className:j("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",t),...r}));p.displayName="TableHead";const h=o.forwardRef(({className:t,...r},a)=>e.jsx("td",{ref:a,className:j("p-4 align-middle [&:has([role=checkbox])]:pr-0",t),...r}));h.displayName="TableCell";const ot=o.forwardRef(({className:t,...r},a)=>e.jsx("caption",{ref:a,className:j("mt-4 text-sm text-muted-foreground",t),...r}));ot.displayName="TableCaption";const gt=()=>{const t=Pe(),{data:r,isLoading:a}=De({created_by_me:!0}),{data:n,isLoading:d}=Me(),l=(s,i="INR")=>new Intl.NumberFormat("en-IN",{style:"currency",currency:i,minimumFractionDigits:0}).format(s),c=s=>new Date(s).toLocaleDateString("en-IN",{day:"numeric",month:"short",year:"numeric"}),m=s=>{switch(s){case"draft":return"secondary";case"open":return"default";case"under_review":return"secondary";case"awarded":return"outline";case"in_progress":return"secondary";case"completed":return"secondary";case"cancelled":return"destructive";default:return"outline"}},b=s=>{switch(s){case"pending":return"secondary";case"shortlisted":return"default";case"accepted":return"default";case"rejected":return"destructive";case"withdrawn":return"outline";default:return"outline"}},f=s=>{switch(s){case"accepted":return e.jsx($e,{className:"h-4 w-4 text-green-600"});case"rejected":return e.jsx(Ke,{className:"h-4 w-4 text-red-600"});case"pending":return e.jsx(Ge,{className:"h-4 w-4 text-yellow-600"});case"shortlisted":return e.jsx(Ve,{className:"h-4 w-4 text-blue-600"});default:return null}};return e.jsxs("div",{className:"container mx-auto px-6 py-8",children:[e.jsxs("div",{className:"flex justify-between items-center mb-8",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold",children:"project Management"}),e.jsx("p",{className:"text-muted-foreground mt-2",children:"Manage your posted projects and track your bids"})]}),e.jsxs(_,{onClick:()=>t("/jobs/create"),children:[e.jsx(Z,{className:"h-4 w-4 mr-2"}),"Create project"]})]}),e.jsxs(at,{defaultValue:"posted",className:"space-y-6",children:[e.jsxs(Te,{children:[e.jsx(L,{value:"posted",children:"Posted Projects"}),e.jsx(L,{value:"bids",children:"My Bids"})]}),e.jsx(G,{value:"posted",className:"space-y-6",children:e.jsxs(H,{children:[e.jsx(X,{children:e.jsx(q,{children:"Projects You've Posted"})}),e.jsx(J,{children:a?e.jsx("div",{className:"space-y-4",children:[...Array(3)].map((s,i)=>e.jsx(W,{className:"h-16 w-full"},i))}):(r==null?void 0:r.length)===0?e.jsxs("div",{className:"text-center py-8",children:[e.jsx(Be,{className:"h-12 w-12 mx-auto text-muted-foreground mb-4"}),e.jsx("h3",{className:"text-lg font-semibold mb-2",children:"No projects posted yet"}),e.jsx("p",{className:"text-muted-foreground mb-4",children:"Create your first VFX project to start receiving bids from talented artists and studios."}),e.jsxs(_,{onClick:()=>t("/jobs/create"),children:[e.jsx(Z,{className:"h-4 w-4 mr-2"}),"Create Your First project"]})]}):e.jsxs(V,{children:[e.jsx($,{children:e.jsxs(I,{children:[e.jsx(p,{children:"project Title"}),e.jsx(p,{children:"Status"}),e.jsx(p,{children:"Shots"}),e.jsx(p,{children:"Budget"}),e.jsx(p,{children:"Deadline"}),e.jsx(p,{children:"Actions"})]})}),e.jsx(K,{children:r==null?void 0:r.map(s=>e.jsxs(I,{children:[e.jsx(h,{children:e.jsxs("div",{children:[e.jsx("p",{className:"font-medium",children:s.title}),e.jsx("p",{className:"text-sm text-muted-foreground line-clamp-1",children:s.description})]})}),e.jsx(h,{children:e.jsx(Q,{variant:m(s.status),children:s.status.replace("_"," ")})}),e.jsx(h,{children:s.total_shots||"-"}),e.jsx(h,{children:s.min_budget||s.max_budget?e.jsx("div",{className:"text-sm",children:s.min_budget&&s.max_budget?`${l(s.min_budget,s.currency)} - ${l(s.max_budget,s.currency)}`:s.min_budget?`From ${l(s.min_budget,s.currency)}`:`Up to ${l(s.max_budget,s.currency)}`}):"-"}),e.jsx(h,{children:s.final_delivery_date?c(s.final_delivery_date):"-"}),e.jsx(h,{children:e.jsxs(_,{variant:"outline",size:"sm",onClick:()=>t(`/jobs/${s._id}`),children:[e.jsx(ee,{className:"h-4 w-4 mr-2"}),"View"]})})]},s._id))})]})})]})}),e.jsx(G,{value:"bids",className:"space-y-6",children:e.jsxs(H,{children:[e.jsx(X,{children:e.jsx(q,{children:"Your Bids"})}),e.jsx(J,{children:d?e.jsx("div",{className:"space-y-4",children:[...Array(3)].map((s,i)=>e.jsx(W,{className:"h-16 w-full"},i))}):(n==null?void 0:n.length)===0?e.jsxs("div",{className:"text-center py-8",children:[e.jsx(Le,{className:"h-12 w-12 mx-auto text-muted-foreground mb-4"}),e.jsx("h3",{className:"text-lg font-semibold mb-2",children:"No bids submitted yet"}),e.jsx("p",{className:"text-muted-foreground mb-4",children:"Browse available projects and submit competitive bids to win VFX projects."}),e.jsx(_,{onClick:()=>t("/jobs"),children:"Browse projects"})]}):e.jsxs(V,{children:[e.jsx($,{children:e.jsxs(I,{children:[e.jsx(p,{children:"project Title"}),e.jsx(p,{children:"Your Bid"}),e.jsx(p,{children:"Status"}),e.jsx(p,{children:"Submitted"}),e.jsx(p,{children:"Actions"})]})}),e.jsx(K,{children:n==null?void 0:n.map(s=>e.jsxs(I,{children:[e.jsx(h,{children:e.jsxs("div",{children:[e.jsx("p",{className:"font-medium",children:s.job_id.title}),e.jsx("p",{className:"text-sm text-muted-foreground",children:s.job_id.created_by.email})]})}),e.jsxs(h,{children:[e.jsx("div",{className:"font-medium",children:l(s.amount_total,s.currency)}),s.estimated_duration_days&&e.jsxs("div",{className:"text-sm text-muted-foreground",children:[s.estimated_duration_days," days"]})]}),e.jsx(h,{children:e.jsxs("div",{className:"flex items-center gap-2",children:[f(s.status),e.jsx(Q,{variant:b(s.status),children:s.status})]})}),e.jsx(h,{children:c(s.submitted_at)}),e.jsx(h,{children:e.jsxs(_,{variant:"outline",size:"sm",onClick:()=>t(`/jobs/${s.job_id._id}`),children:[e.jsx(ee,{className:"h-4 w-4 mr-2"}),"View project"]})})]},s._id))})]})})]})})]})]})};export{gt as default};
