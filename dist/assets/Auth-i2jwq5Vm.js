import{c as A,r as o,j as e,u as l,a as L,b as M,d as D,e as R,f as V}from"./index-CSY5YgiJ.js";import{C as P,B as E}from"./card-dyY2Qvrr.js";import{I as h}from"./input-bM4iH4pw.js";import{L as m}from"./label-Bz9P5vOH.js";import{C as q,S as z,a as B,b as W,c as K,d as u}from"./select-CjlLjNwJ.js";import{z as I}from"./proxy-BCkhZuQv.js";import{o as O,s as p,e as X,Z}from"./types-L2k3iFj2.js";import"./index-Q8Z8E6D0.js";import"./Combination-CrH4g3RK.js";/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $=A("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J=A("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]),Q=[{email:"admin@pikxora.com",password:"admin123",role:"Admin"},{email:"studio1@pikxora.com",password:"studio123",role:"Studio (Verified)"},{email:"studio2@pikxora.com",password:"studio123",role:"Studio (Verified)"},{email:"artist@pikxora.com",password:"artist123",role:"Artist"},{email:"investor@pikxora.com",password:"investor123",role:"Investor"}],G=()=>{const[r,c]=o.useState(null),n=(a,t,x)=>{navigator.clipboard.writeText(`Email: ${a}
Password: ${t}`),c(x),l.success("Credentials copied to clipboard!"),setTimeout(()=>c(null),2e3)};return e.jsxs(P,{className:"p-6 border-blue-500/50 bg-blue-500/5",children:[e.jsxs("div",{className:"flex items-start gap-3 mb-4",children:[e.jsx(J,{className:"h-5 w-5 text-blue-400 mt-0.5 flex-shrink-0"}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-blue-400 mb-1",children:"Demo Accounts"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Quick login credentials for testing different roles"})]})]}),e.jsx("div",{className:"space-y-2",children:Q.map((a,t)=>e.jsxs("div",{className:"flex items-center justify-between p-3 rounded-lg bg-background/50 border border-border/50",children:[e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("div",{className:"text-sm font-medium truncate",children:a.email}),e.jsxs("div",{className:"text-xs text-muted-foreground",children:[a.role," â€¢ Password: ",a.password]})]}),e.jsx(E,{size:"sm",variant:"ghost",onClick:()=>n(a.email,a.password,t),className:"flex-shrink-0 ml-2",children:r===t?e.jsx(q,{className:"h-4 w-4 text-green-400"}):e.jsx($,{className:"h-4 w-4"})})]},t))}),e.jsx("p",{className:"text-xs text-muted-foreground mt-4",children:"ðŸ’¡ Tip: Create these accounts through the signup form to test the full flow"})]})},H=O({email:p().email("Invalid email address"),password:p().min(6,"Password must be at least 6 characters"),name:p().min(2,"Name must be at least 2 characters"),role:X(["studio","artist","investor","admin"])}),ne=()=>{const[r,c]=o.useState(!1),[n,a]=o.useState(""),[t,x]=o.useState(""),[g,F]=o.useState(""),[j,T]=o.useState("studio"),d=L(),f=!!localStorage.getItem("token"),{data:b,isLoading:v}=M(),y=D(),w=R(),N=y.isPending||w.isPending;o.useEffect(()=>{!v&&b&&f&&d("/dashboard")},[b,v,f,d]);const U=async i=>{var S,C;i.preventDefault();try{if(r){const s=H.parse({email:n,password:t,name:g,role:j});await y.mutateAsync({email:s.email,password:s.password,name:s.name,role:s.role})&&(l.success("Account created! Welcome to PIKXORA"),d("/dashboard"))}else await w.mutateAsync({email:n,password:t})&&(l.success("Welcome back!"),d("/dashboard"))}catch(s){if(s instanceof Z)l.error(s.errors[0].message);else{const k=s&&typeof s=="object"&&"response"in s?(C=(S=s==null?void 0:s.response)==null?void 0:S.data)==null?void 0:C.error:s instanceof Error?s.message:"An error occurred";l.error(k||"An error occurred")}}};return e.jsx("div",{className:"min-h-screen flex items-center justify-center p-4",children:e.jsxs("div",{className:"w-full max-w-4xl grid md:grid-cols-2 gap-6",children:[e.jsx(I.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},className:"flex items-center",children:e.jsx(G,{})}),e.jsx(I.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},children:e.jsxs(P,{className:"p-8 border-red-glow",children:[e.jsx("h1",{className:"text-3xl font-bold text-center mb-2 red-glow-intense",children:r?"Join PIKXORA":"Welcome Back"}),e.jsx("p",{className:"text-center text-muted-foreground mb-6",children:r?"Create your account to start connecting globally":"Sign in to your account"}),e.jsxs("form",{onSubmit:U,className:"space-y-4",children:[r&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{children:[e.jsx(m,{htmlFor:"name",children:"Full Name"}),e.jsx(h,{id:"name",type:"text",value:g,onChange:i=>F(i.target.value),required:!0,className:"border-border focus:border-primary"})]}),e.jsxs("div",{children:[e.jsx(m,{htmlFor:"role",children:"Role"}),e.jsxs(z,{value:j,onValueChange:T,children:[e.jsx(B,{className:"border-border",children:e.jsx(W,{})}),e.jsxs(K,{children:[e.jsx(u,{value:"studio",children:"Studio"}),e.jsx(u,{value:"artist",children:"Artist/Freelancer"}),e.jsx(u,{value:"investor",children:"Investor"}),e.jsx(u,{value:"admin",children:"Admin"})]})]})]})]}),e.jsxs("div",{children:[e.jsx(m,{htmlFor:"email",children:"Email"}),e.jsx(h,{id:"email",type:"email",value:n,onChange:i=>a(i.target.value),required:!0,className:"border-border focus:border-primary"})]}),e.jsxs("div",{children:[e.jsx(m,{htmlFor:"password",children:"Password"}),e.jsx(h,{id:"password",type:"password",value:t,onChange:i=>x(i.target.value),required:!0,className:"border-border focus:border-primary"})]}),e.jsx(E,{type:"submit",className:"w-full",disabled:N,children:N?e.jsxs(e.Fragment,{children:[e.jsx(V,{className:"mr-2 h-4 w-4 animate-spin"}),r?"Creating Account...":"Signing In..."]}):r?"Sign Up":"Sign In"})]}),e.jsx("div",{className:"mt-4 text-center",children:e.jsx("button",{onClick:()=>c(!r),className:"text-sm text-primary hover:underline",children:r?"Already have an account? Sign in":"Don't have an account? Sign up"})})]})})]})})};export{ne as default};
